
@{
    ViewBag.Title = "Add Safety Concern";
    var area = ViewBag.Area;
}

<h2>Add Safety Concern</h2>

<div class="well">
    @using (Html.BeginForm("CreateSafetyConcern", "Safety", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
    <div class="form-horizontal">
        <div class="form-group">
            <div class="col-xs-3">
                <strong class="float-right" style="margin-top:5px; margin-right:-10px;">Area:</strong>
            </div>
            <div class="col-xs-5">
                @Html.DropDownList("departments", null, "- - - Areas - - -", htmlAttributes: new { @class = "form-control signin-form", id = "areas", required = "Select Area" })
            </div>
            <div class="col-xs-4">
                <input type="text" id="areaNote" name="areaNote" class="form-control" placeholder="Sub Area" />
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-3">
                <strong class="float-right" style="margin-top:5px; margin-right:-10px;">Condition:</strong>
            </div>
            <div class="col-xs-9">
                <input type="text" id="conditionNoted" name="conditionNoted" class="form-control" placeholder="Condition Noted" />
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-3">
                <strong class="float-right" style="margin-top:5px; margin-right:-10px;">Codes Violated:</strong>
            </div>
            <div class="col-xs-6">
                @Html.DropDownList("typeSubType", null, "- - - Select Code 1 - - -", htmlAttributes: new { @class = "form-control signin-form", id = "code1" })
            </div>
            <br />
            <br />
            <div class="col-xs-offset-3 col-xs-6">
                @Html.DropDownList("typeSubType2", null, "- - - Select Code 2 - - -", htmlAttributes: new { @class = "form-control signin-form", id = "code2" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-3">
                <strong class="float-right" style="margin-top:5px;font-size:1em;font-weight:600;margin-right:-10px;">Action:</strong>
            </div>
            <div class="col-xs-9">
                <input type="text" id="correctiveAction" name="correctiveAction" class="form-control" placeholder="Corrective Action" />
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-3">
                <strong class="float-right" style="margin-top:5px; margin-right:-10px;">Severity:</strong>
            </div>
            <div class="col-xs-5">
                @Html.DropDownList("severity", new List<SelectListItem>
                {
                    new SelectListItem { Text = "LOW", Value = "LOW" },
                    new SelectListItem { Text = "MEDIUM", Value = "MEDIUM" },
                    new SelectListItem { Text = "HIGH", Value = "HIGH"},
                }, "- - - Select Severity - - -",
                htmlAttributes: new { @class = "form-control signin-form", id = "severity" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-3">
                <strong class="float-right" style="margin-right:-10px;">Image Upload:</strong>
            </div>
            <div class="col-xs-5">
                <input type="file" name="ImageFile" id="ImageFile" placeholder="Take Picture">
            </div>
        </div>

        <input type="submit" id="submit" class="col-xs-offset-3 btn btn-primary" value="Add" />
        @if (area != "")
        {
            <a href="SafetyAudit?area=@area" class="btn btn-warning">Cancel</a>
        }
        else
        {
            <a href="SafetyAudit" class="btn btn-warning">Cancel</a>
        }
    </div>
    }
</div>

@section scripts
{
    <script>
        $(function ()
        {
            var area = '@area';
            if (area != '')
            {
                $('#areas').val(area);
            }
        });
    </script>    
}